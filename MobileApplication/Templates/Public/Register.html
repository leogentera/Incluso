<div class="incluso-app public" ng-app>

  <article class="register" ng-controller="publicRegisterController">

    <div class="alert alert-warning" role="alert" ng-show="!registerModel.modelState.isValid && !isRegistered">
      <div class="alert-message">
        <div class="icomoon icon-warning"></div>
        <p>¡Error! Verifica tus datos</p>
        <ul ng-if="registerModel.modelState.errorMessages.length > 0">
          <li ng-repeat="msg in registerModel.modelState.errorMessages">{{msg}}</li>
        </ul>
      </div>
    </div>

    <div class="alert alert-success" role="alert" ng-show="isRegistered">
      <div class="alert-message">
        <div class="icomoon icon-checked-clip"></div>
        <p>¡Te has registrado correctamente!</p> 
      </div>
    </div>

    <script type="text/ng-template" id="termsAndConditionsModal.html">
      <div class="modal-extend-default">
        <div class="modal-header">
          <h3 class="modal-title">Términos y Condiciones</h3>
        </div>
        <div class="modal-body">
          <p>"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."</p>
          <p>"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."</p>
          <ol>
            <li>Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</li>
            <li>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.</li>
            <li>Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</li>
            <li>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.</li>
            <li>Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</li>
          </ol>
        </div>
        <div class="modal-footer">
          <button class="btn btn-primary" ng-click="cancel()">Cerrar</button>
        </div>
      </div>
    </script>

    <header>
      <figure>
        <img src="assets/images/img-logo-gentera.svg" alt="" class="login-logo">
        <figcaption class="center-block text-center">
          <span>Estudia</span>
          <span>|</span>
          <span>Trabaja</span>
          <span>|</span>
          <span>Emprende</span>
        </figcaption>
      </figure> 
    </header>    

    <section>
      <form action="" class="register-form container-fluid" name="registerForm" ng-show="!isRegistered">
        <div class="row">
          <div class="col-xs-12">
            <h1>Datos de Registro</h1>
          </div>
        </div>
        <div class="pages">

          <div class="page" data-page="1" ng-class="currentPage === 1 ? 'active' : ''">
            <div class="row">
              <div class="col-xs-12">
                <div class="form-group">
                  <div class="input-group input-group-lg theme-default">
                    <p class="input-group-addon" id="aliasAddOn">
                      <span class="icomoon icon-user"></span>
                    </p>
                    <input type="text" ng-model="registerModel.username" name="username" class="form-control form-control-lg theme-default" placeholder="Alias" aria-describedby="aliasAddOn" pattern="[a-z0-9]+" required />
                  </div>
                </div>
              </div>
            </div>   

            <div class="row">
              <div class="col-xs-12">
                <div class="form-group">
                  <div class="input-group input-group-lg theme-default">
                    <p class="input-group-addon" id="birthDateAddOn">
                      <span class="icomoon icon-calendar"></span>
                    </p>                    
                    <input type="text" ng-click="showCalendar()" ng-model="registerModel.birthday" name="birthday" class="form-control form-control-lg theme-default" placeholder="Fecha de nacimiento" aria-describedby="birthDateAddOn" minlength="10" maxlength="10" required />
                  </div>
                </div>
              </div>
            </div> 

            <div class="row">
              <div class="col-xs-12">
                <div class="form-group">
                  <div class="input-group input-group-lg theme-default">
                    <p class="input-group-addon" id="genderAddOn">
                      <span class="icomoon icon-dna"></span>                      
                    </p>
                    <p class="input-group-control custom-placeholder-wrapper">
                      <select ng-model="registerModel.gender" name="gender" class="form-control form-control-lg theme-default" aria-describedby="genderAddOn">
                        <option value="Male">Masculino</option>
                        <option value="Female">Femenino</option> 
                      </select>
                      <span class="custom-placeholder form-control-lg">Sexo</span>
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-xs-12">
                <div class="form-group">
                  <div class="input-group input-group-lg theme-default">
                    <p class="input-group-addon" id="countryAddOn">
                      <span class="icomoon icon-earth"></span>                        
                    </p>
                    <p class="input-group-control custom-placeholder-wrapper">
                      <select ng-model="registerModel.country" name="country" class="form-control form-control-lg theme-default" aria-describedby="countryAddOn">
                        <option value="BO">Bolivia</option>
                        <option value="CO">Colombia</option> 
                        <option value="EC">Ecuador</option> 
                        <option value="ME">México</option> 
                        <option value="PE">Perú</option> 
                        <option value="UR">Uruguay</option> 
                        <option value="VE">Venezuela</option> 
                      </select>
                      <span class="custom-placeholder form-control-lg">País</span>
                    </p>
                  </div>
                </div>
              </div>
            </div>        

            <div class="row">
              <div class="col-xs-12">
                <div class="form-group">
                  <div class="input-group input-group-lg theme-default">
                    <p class="input-group-addon" id="cityAddOn">
                      <span class="icomoon icon-map"></span> 
                    </p>
                    <p class="input-group-control custom-placeholder-wrapper">
                      <select ng-model="registerModel.city" name="city" class="form-control form-control-lg theme-default" aria-describedby="cityAddOn">
                        <option value="Bogotá">Bogotá</option>
                        <option value="Buenos Aires">Buenos Aires</option>
                        <option value="La Paz">La Paz</option> 
                        <option value="México D.F.">México D.F.</option> 
                        <option value="Monterrey">Monterrey</option> 
                        <option value="Montevideo">Montevideo</option> 
                        <option value="Rosario">Rosario</option> 
                      </select>
                      <span class="custom-placeholder form-control-lg">Ciudad</span>
                    </p>                    
                  </div>
                </div>            
              </div>
            </div>

            <div class="row">
              <div class="col-xs-12">
                <div class="page-number">
                  <p class="text-center">
                    <span>1</span>
                    <span>/</span>
                    <span>2</span>
                  </p>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-xs-12">
                <button type="button" class="btn btn-primary btn-lg btn-block" ng-click="navigateToPage(2)">Continuar</button>
              </div>
              <div class="col-xs-12">
                <a type="button" class="btn btn-default btn-transparent btn-lg btn-block" ng-click="login()">Cancelar</a>
              </div> 
            </div>          

          </div>   

          <div class="page" data-page="2" ng-class="currentPage === 2 ? 'active' : ''">

            <div class="row">
              <div class="col-xs-12">
                <div class="form-group">
                  <div class="input-group input-group-lg theme-default">
                    <p class="input-group-addon" id="emailAddOn">
                      <span class="icomoon icon-envelope"></span>                      
                    </p>
                    <input type="email" ng-model="registerModel.email" name="email" class="form-control form-control-lg theme-default" placeholder="Correo" aria-describedby="emailAddOn" required />
                  </div>
                </div>
              </div>
            </div>   

            <div class="row">
              <div class="col-xs-12">
                <div class="form-group">
                  <div class="input-group input-group-lg theme-default">
                    <p class="input-group-addon" id="accountPasswordAddOn">
                      <span class="icomoon icon-lock"></span>
                    </p>
                    <input type="password" ng-model="registerModel.password" name="password" class="form-control form-control-lg theme-default" placeholder="Contraseña" aria-describedby="accountPasswordAddOn" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*\W|_).{8,}" required />
                  </div>
                </div>
              </div>
            </div> 

            <div class="row">
              <div class="col-xs-12">
                <div class="form-group">
                  <div class="input-group input-group-lg theme-default">
                    <p class="input-group-addon" id="confirmPasswordAddOn">
                      <span class="icomoon icon-lock"></span> 
                    </p>
                    <input type="password" ng-model="registerModel.confirmPassword" name="confirmPassword" class="form-control form-control-lg theme-default" placeholder="Repetir contraseña" aria-describedby="confirmPasswordAddOn" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*\W|_).{8,}" required />
                  </div>
                </div>
              </div>
            </div>             

            <div class="row">
              <div class="col-xs-12">
                <div class="form-group">
                  <div class="input-group input-group-lg theme-default">
                    <p class="input-group-addon" id="securityQuestionAddOn">
                      <span class="icomoon icon-help"></span>
                    </p>
                    <p class="input-group-control custom-placeholder-wrapper">
                      <select ng-model="registerModel.secretQuestion" name="securityQuestion" class="form-control form-control-lg theme-default" aria-describedby="securityQuestionAddOn" data-show-placeholder="$scope.isRegistered">
                        <option value="¿Dónde crecí?">¿Dónde crecí?</option>
                        <option value="Nombre de mi mejor amigo">Nombre de mi mejor amigo</option> 
                        <option value="Nombre de mi mascota">Nombre de mi mascota</option> 
                        <option value="Personaje favorito">Personaje favorito</option> 
                        <option value="Banda musical favorita">Banda musical favorita</option> 
                      </select>
                      <span class="custom-placeholder form-control-lg">Pregunta de seguridad</span>
                    </p>
                  </div>
                </div>
              </div>
            </div>       

            <div class="row">
              <div class="col-xs-12">
                <div class="form-group">
                  <div class="input-group input-group-lg theme-default">
                    <p class="input-group-addon" id="securityAnswerAddOn">
                      <span class="icomoon icon-help"></span>
                    </p>
                    <input type="text" ng-model="registerModel.secretAnswer" name="secretAnswer" class="form-control form-control-lg theme-default" placeholder="Respuesta de Seguridad" aria-describedby="securityAnswerAddOn" required />
                  </div>
                </div>            
              </div>
            </div>

            <div class="row">
              <div class="col-xs-12">
                  <div class="checkbox checkbox-custom">
                    <label>
                      <input type="checkbox" name="termsAndConditions" ng-model="registerModel.termsAndConditions" /> 
                      <span><a href="" ng-click="openModal()">Acepto los términos y condiciones</a></span>
                    </label>
                  </div>
              </div>
            </div>            

            <div class="row">
              <div class="col-xs-12">
                <div class="page-number">
                  <p class="text-center">
                    <span>2</span>
                    <span>/</span>
                    <span>2</span>
                  </p>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-xs-12" ng-show="!isRegistered">
                <div class="button-group">
                  <button type="button" class="btn btn-primary btn-lg" ng-click="navigateToPage(1)">
                    <span class="icomoon icon-arrow-slim-left"></span>
                  </button>
                  <button type="button" ng-click="register()" class="btn btn-primary btn-lg">Registrar</button>
                </div>
              </div>
              <div class="col-xs-12" ng-show="!isRegistered">
                <a type="button" ng-click="login()" class="btn btn-default btn-transparent btn-lg btn-block">Cancelar</a>
              </div>       
            </div>          

          </div>                  
        </div> 
      </form>      
    </section>

    <section>
      <div class="row">
        <div class="col-xs-12" ng-show="isRegistered">
          <p class="exit-message center-block text-center">
            ¡Felicidades! Ya puedes comenzar esta fabulosa aventura.
          </p>
          <button type="button" class="btn btn-primary btn-lg btn-block" ng-click="autologin()">Entrar</button>
        </div> 
      </div>
    </section>

  </article> 

</div>